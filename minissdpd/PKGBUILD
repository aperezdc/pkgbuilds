# Maintainer: Adrian Perez de Castro <aperez@igalia.com>
pkgname='minissdpd'
pkgver='1.2'
pkgrel='1'
pkgdesc='Small daemon to speed up SSDP device discoveries'
url='http://miniupnp.tuxfamily.org/minissdpd.html'
arch=('arm' 'i686' 'x86_64')
depends=('glibc')
license=('BSD')
source=("${pkgname}-${pkgver}.tar.gz::http://miniupnp.tuxfamily.org/files/download.php?file=${pkgname}-${pkgver}.tar.gz"
	minissdpd.service
	minissdpd )
sha1sums=('ccc2405d34b57cd8d126326268e1864bba98a942'
          'f4b6f4805173038088ef93d48cb8759b5d6dba30'
          '8274b31638f343875a659ac6ea8c9702011b305a')

build () {
	cd "${pkgname}-${pkgver}"
	make
}

package () {
	cd "${pkgname}-${pkgver}"
	install -m 755 -d "${pkgdir}/sbin"
	install -m 700 -t "${pkgdir}/sbin" minissdpd

	install -m 755 -d "${pkgdir}/usr/share/man/man1"
	install -m 644 -t "${pkgdir}/usr/share/man/man1" minissdpd.1

	install -m 755 -d "${pkgdir}/etc/conf.d"
	install -m 600 -t "${pkgdir}/etc/conf.d" "${srcdir}/minissdpd"

	install -m 755 -d "${pkgdir}/usr/lib/systemd/system"
	install -m 644 -t "${pkgdir}/usr/lib/systemd/system" "${srcdir}/minissdpd.service"
}
